<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Sorteio de Equipas</title>
<style>
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    background: #f4f1ec;
    color: #333;
    padding: 30px;
  }

  h2 {
    margin-top: 40px;
    color: #6b3e26;
  }

  table {
    border-collapse: collapse;
    width: 100%;
    max-width: 800px;
    margin-bottom: 25px;
    background: #fff;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  }

  th {
    background: #6b3e26;
    color: #fff;
    font-weight: 600;
  }

  td, th {
    padding: 10px;
    border-bottom: 1px solid #eee;
  }

  tr:last-child td {
    border-bottom: none;
  }

  input {
    width: 90%;
    padding: 6px;
    border-radius: 4px;
    border: 1px solid #ccc;
    text-align: center;
  }

  input:focus {
    outline: none;
    border-color: #d29a2a;
    box-shadow: 0 0 0 2px rgba(210,154,42,0.2);
  }

  button {
    background: #d29a2a;
    color: #fff;
    border: none;
    padding: 12px 24px;
    font-size: 16px;
    border-radius: 30px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    transition: transform 0.1s ease, box-shadow 0.1s ease;
  }

  button:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.2);
  }

  button:active {
    transform: translateY(1px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  }

  #ranking tr:nth-child(even) {
    background: #faf7f3;
  }

  #ranking tr:first-child {
    background: #6b3e26;
    color: #fff;
  }

  /* Destaque do l√≠der */
  #ranking tr:nth-child(2) td:first-child::after {
    content: " üèÜ";
  }

  @media (max-width: 600px) {
    body {
      padding: 15px;
    }

    table {
      font-size: 14px;
    }

    button {
      width: 100%;
      margin-bottom: 15px;
    }
  }
</style>
</head>
<body>

<h2>Equipas</h2>
<table>
<tr><th>Equipa</th><th>Jogador 1</th><th>Jogador 2</th></tr>
<tbody id="teams">
<script>
["A","B","C","D","E","F"].forEach(t => {
  document.write(`
    <tr>
      <td>${t}</td>
      <td><input></td>
      <td><input></td>
    </tr>
  `);
});
</script>
</tbody>
</table>

<button onclick="sorteio()">üç∫ Sorteio</button>

<table id="games">
<tr>
  <th>Campo</th>
  <th>Equipa 1</th>
  <th>Pts</th>
  <th>Pts</th>
  <th>Equipa 2</th>
</tr>
</table>

<button onclick="calcular()">üìä Calcular Classifica√ß√£o</button>

<h2>Classifica√ß√£o Final</h2>
<table id="ranking">
<tr>
<th>Equipa</th><th>Pontos</th><th>V</th><th>E</th><th>D</th><th>Dif</th>
</tr>
</table>

<script>
let teams = ["A","B","C","D","E","F"];
let jogos = [];

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

function sorteio() {
  const campos = ["Bar", "Meio", "Ponta"];
  document.getElementById("games").innerHTML = `
    <tr>
      <th>Campo</th>
      <th>Equipa 1</th>
      <th>Pts</th>
      <th>Pts</th>
      <th>Equipa 2</th>
    </tr>
  `;

  jogos = [];

  // gerar todos os jogos
  let todosJogos = [];
  for (let i = 0; i < teams.length; i++) {
    for (let j = i + 1; j < teams.length; j++) {
      todosJogos.push([teams[i], teams[j]]);
    }
  }

  // baralhar jogos
  todosJogos.sort(() => Math.random() - 0.5);

  let gameIndex = 0;

  // 5 rounds
  for (let round = 1; round <= 5; round++) {
    for (let c = 0; c < 3; c++) {
      let jogo = todosJogos[gameIndex];
      jogos.push(jogo);

      document.getElementById("games").innerHTML += `
        <tr>
          <td>${campos[c]}</td>
          <td>${jogo[0]}</td>
          <td><input type="number" id="a${gameIndex}" style="width:50px"></td>
          <td><input type="number" id="b${gameIndex}" style="width:50px"></td>
          <td>${jogo[1]}</td>
        </tr>
      `;
      gameIndex++;
    }
  }
}

function calcular() {
  let stats = {};
  teams.forEach(t => stats[t] = {p:0,v:0,e:0,d:0,dif:0});

  jogos.forEach((jogo, i) => {
    let a = parseInt(document.getElementById(`a${i}`).value);
    let b = parseInt(document.getElementById(`b${i}`).value);
    if (isNaN(a) || isNaN(b)) return;

    stats[jogo[0]].dif += a - b;
    stats[jogo[1]].dif += b - a;

    if (a > b) {
      stats[jogo[0]].p += 3; stats[jogo[0]].v++;
      stats[jogo[1]].d++;
    } else if (b > a) {
      stats[jogo[1]].p += 3; stats[jogo[1]].v++;
      stats[jogo[0]].d++;
    } else {
      stats[jogo[0]].p++; stats[jogo[1]].p++;
      stats[jogo[0]].e++; stats[jogo[1]].e++;
    }
  });

  let ranking = Object.entries(stats)
    .sort((a,b) => b[1].p - a[1].p || b[1].dif - a[1].dif);

  document.getElementById("ranking").innerHTML =
    `<tr><th>Equipa</th><th>Pontos</th><th>V</th><th>E</th><th>D</th><th>Dif</th></tr>`;

  ranking.forEach(r => {
    document.getElementById("ranking").innerHTML += `
      <tr>
        <td>${r[0]}</td>
        <td>${r[1].p}</td>
        <td>${r[1].v}</td>
        <td>${r[1].e}</td>
        <td>${r[1].d}</td>
        <td>${r[1].dif}</td>
      </tr>
    `;
  });
}
</script>

</body>
</html>